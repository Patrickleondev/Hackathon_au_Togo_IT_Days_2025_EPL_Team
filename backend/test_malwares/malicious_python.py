#!/usr/bin/env python3
import subprocess
import base64
import os
import sys
import socket
import threading

# Malware Python synthétique
def malicious_function():
    # Code encodé en base64
    encoded_payload = "ZWNobyAiaGVsbG8gd29ybGQi"
    decoded = base64.b64decode(encoded_payload)
    
    # Exécution de commandes
    subprocess.call(decoded, shell=True)
    os.system("whoami")
    
    # Évaluation dynamique
    eval("print('malware')")
    exec("print('trojan')")
    
    # Création de socket suspect
    s = socket.socket()
    s.bind(('0.0.0.0', 4444))
    s.listen(1)
    
    # Import dynamique
    module = __import__('subprocess')
    module.call(['cmd', '/c', 'dir'])

if __name__ == "__main__":
    malicious_function()
